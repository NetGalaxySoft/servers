#!/bin/bash

# ==========================================================================
#  netgalaxy-dev-env.sh ‚Äì –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–∞ —Å—Ä–µ–¥–∞ –∑–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ NetGalaxy
# --------------------------------------------------------------------------
#  –í–µ—Ä—Å–∏—è: 1.0
#  –î–∞—Ç–∞: 2025-07-02
#  –ê–≤—Ç–æ—Ä: Ilko Yordanov / NetGalaxy
# ==========================================================================
#
#  –¢–æ–∑–∏ —Å–∫—Ä–∏–ø—Ç –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –≤—Å–∏—á–∫–∏
#  NetGalaxy –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (NetGalaxyUP, NetGalaxyCP –∏ –¥—Ä.). –ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ –Ω–∞
#  —Å—ä—Ä–≤—ä—Ä–∏, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏ –∑–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–ª–∏ —Ç–µ—Å—Ç–æ–≤–∏ —Å—Ä–µ–¥–∏.
# ==========================================================================

echo "=================================================================="
echo " üåê NetGalaxy - –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–∞ —Ä–∞–±–æ—Ç–Ω–∞ —Å—Ä–µ–¥–∞ –∑–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞"
echo "=================================================================="

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞ root –ø—Ä–∞–≤–∞
if [[ "$EUID" -ne 0 ]]; then
  echo "‚ùå –°–∫—Ä–∏–ø—Ç—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –∏–∑–ø—ä–ª–Ω–µ–Ω —Å root –ø—Ä–∞–≤–∞ (sudo)."
  exit 1
fi

echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞ –≤–µ—á–µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏..."

# Node.js + npm (–∞–∫–æ –Ω–µ —Å–∞ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–∏)
if ! command -v node >/dev/null 2>&1 || ! command -v npm >/dev/null 2>&1; then
  echo "‚è≥ –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ –Ω–∞ Node.js –∏ npm..."
  curl -fsSL https://deb.nodesource.com/setup_lts.x | bash -
  apt install -y nodejs
else
  echo "‚úÖ Node.js –∏ npm –≤–µ—á–µ —Å–∞ –Ω–∞–ª–∏—á–Ω–∏."
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤–µ—Ä—Å–∏–∏—Ç–µ
echo "üß™ –í–µ—Ä—Å–∏–∏:"
echo " - Node.js: $(node -v 2>/dev/null || echo '‚ùå –Ω–µ –µ –Ω–∞–ª–∏—á–µ–Ω')"
echo " - npm:     $(npm -v 2>/dev/null || echo '‚ùå –Ω–µ –µ –Ω–∞–ª–∏—á–µ–Ω')"

# –ì–ª–æ–±–∞–ª–Ω–∏ CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ (–ø–æ –∏–∑–±–æ—Ä)
echo "‚è≥ –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ –Ω–∞ Vite CLI (–∞–∫–æ –Ω–µ –µ –Ω–∞–ª–∏—á–µ–Ω)..."
if ! npm list -g vite >/dev/null 2>&1; then
  npm install -g vite
  echo "‚úÖ vite –µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω –≥–ª–æ–±–∞–ª–Ω–æ."
else
  echo "‚úÖ vite –≤–µ—á–µ –µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω –≥–ª–æ–±–∞–ª–Ω–æ."
fi

# –ó–∞–≤—ä—Ä—à–≤–∞–Ω–µ
echo "‚úÖ –†–∞–±–æ—Ç–Ω–∞—Ç–∞ —Å—Ä–µ–¥–∞ –µ –≥–æ—Ç–æ–≤–∞ –∑–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ NetGalaxy –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è."
echo "üîÅ –†–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –ø—Ä–∏ –Ω—É–∂–¥–∞, –∑–∞ –¥–∞ —Å–µ –ø—Ä–µ–∑–∞—Ä–µ–¥—è—Ç –ø—ä—Ç–∏—â–∞—Ç–∞."
