–¢–æ–∑–∏ –ø—Ä–æ–µ–∫—Ç –µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –∑–∞ –±—ä—Ä–∑–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ –Ω–∞ DNS —Å—ä—Ä–≤—ä—Ä–∏. 
–û—Å–Ω–æ–≤–Ω–µ —Å–∫—Ä–∏–ø—Ç: vps-base-qsetup.sh 
–°—Ç–∏–ª: –ú–æ–¥—É–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç, –∫–∞—Ç–æ –≤—Å–∏—á–∫–∏ –¥—Ä—É–≥–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤–µ –Ω–∞ NetGalaxySoft –≤ GitHub. 
–ó–∞–ø–æ—á–≤–∞ —Å—ä—Å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—Ç–∞ –∑–∞–≥–ª–∞–≤–Ω–∞ —á–∞—Å—Ç –∑–∞ –≤—Å–∏—á–∫–∏ –º–æ–¥—É–ª–∏. 

## –ú–æ–¥—É–ª 1 
#### –°–ï–ö–¶–ò–Ø 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ —Å–∫—Ä–∏–ø—Ç—ä—Ç —â–µ –±—ä–¥–µ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω –Ω–∞ –ø—Ä–∞–≤–∏–ª–Ω–∞—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞ —Å–∏—Å—Ç–µ–º–∞. 
–ö–∞–∫–≤–æ –≤–∫–ª—é—á–≤–∞ —Ç–∞–∑–∏ —Å–µ–∫—Ü–∏—è: 
- –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ —Ñ–∞–π–ª—ä—Ç /etc/os-release —Å—ä—â–µ—Å—Ç–≤—É–≤–∞. 
- –ß–µ—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è—Ç–∞ –∑–∞ –û–° (ID –∏ VERSION_ID). 
- –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ –µ Ubuntu (22.04, 24.04) –∏–ª–∏ Debian (11, 12). 
- –ê–∫–æ –û–° –µ –Ω–µ–ø–æ–¥–¥—ä—Ä–∂–∞–Ω–∞ ‚Üí —Å–∫—Ä–∏–ø—Ç—ä—Ç —Å–ø–∏—Ä–∞ —Å —è—Å–Ω–æ —Å—ä–æ–±—â–µ–Ω–∏–µ. 
- –ê–∫–æ –û–° –µ –ø–æ–¥–¥—ä—Ä–∂–∞–Ω–∞ ‚Üí –ø–æ–∫–∞–∑–≤–∞ –ø–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ ‚úÖ. 

#### –°–ï–ö–¶–ò–Ø 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ —Å–∫—Ä–∏–ø—Ç—ä—Ç —â–µ –±—ä–¥–µ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω –Ω–∞ –ø—Ä–∞–≤–∏–ª–Ω–∏—è —Å—ä—Ä–≤—ä—Ä. –û–ø–µ—Ä–∞—Ç–æ—Ä—ä—Ç –≤—ä–≤–µ–∂–¥–∞ –Ω—É–∂–Ω–∏—è IP –∞–¥—Ä–µ—Å –∏ —Å–∫—Ä–∏–ø—Ç—ä—Ç –≥–æ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ (–Ω–µ —Å—Ç–∞—Ä—Ç–∏—Ä–∞, –∞–∫–æ IP –∞–¥—Ä–µ—Å—ä—Ç –µ —Ä–∞–∑–ª–∏—á–µ–Ω –æ—Ç –≤—ä–≤–µ–¥–µ–Ω–∏—è). 
–ö–∞–∫–≤–æ –≤–∫–ª—é—á–≤–∞ —Ç–∞–∑–∏ —Å–µ–∫—Ü–∏—è: 
- –ò–∑–∏—Å–∫–≤–∞ –æ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –¥–∞ –≤—ä–≤–µ–¥–µ –æ—á–∞–∫–≤–∞–Ω–∏—è –ø—É–±–ª–∏—á–µ–Ω IP.
- –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ –≤—ä–≤–µ–¥–µ–Ω–∏—è—Ç IP –µ –≤–∞–ª–∏–¥–µ–Ω IPv4 —Ñ–æ—Ä–º–∞—Ç.
- –ò–∑–≤–ª–∏—á–∞ —Ä–µ–∞–ª–Ω–∏—è IP —á—Ä–µ–∑ curl -s -4 ifconfig.me.
- –ê–∫–æ IP –Ω–µ —Å—ä–≤–ø–∞–¥–∞ ‚Üí –¥–∞–≤–∞ –æ–ø—Ü–∏—è –∑–∞ –ø–æ–≤—Ç–æ—Ä–µ–Ω –æ–ø–∏—Ç –∏–ª–∏ –∏–∑—Ö–æ–¥.
- –ê–∫–æ —Å—ä–≤–ø–∞–¥–∞ ‚Üí –ø–æ—Ç–≤—ä—Ä–∂–¥–∞–≤–∞ –∏ –ø—Ä–µ–º–∏–Ω–∞–≤–∞ –Ω–∞—Ç–∞—Ç—ä–∫. 

#### –°–ï–ö–¶–ò–Ø 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ hostname –µ –¥–æ–º–µ–π–Ω –æ—Ç —Ç—Ä–µ—Ç–æ –Ω–∏–≤–æ, –∑–∞–ø–æ—á–≤–∞—â —Å ns1, ns2 –∏–ª–∏ ns3 (–Ω–µ —Å—Ç–∞—Ä—Ç–∏—Ä–∞, –∞–∫–æ —Ç–æ–≤–∞ –Ω–µ –µ —Ç–∞–∫–∞). 
–ö–∞–∫–≤–æ –≤–∫–ª—é—á–≤–∞ —Ç–∞–∑–∏ —Å–µ–∫—Ü–∏—è: 
- –ß–µ—Ç–µ –ø—ä–ª–Ω–∏—è FQDN —Å hostname -f.
- –ê–∫–æ –Ω–µ —É—Å–ø–µ–µ ‚Üí –ø—Ä–µ–∫—Ä–∞—Ç—è–≤–∞ —Å—ä—Å —Å—ä–æ–±—â–µ–Ω–∏–µ.
- –ü—Ä–æ–≤–µ—Ä—è–≤–∞: 
  - –î–∞–ª–∏ –∑–∞–ø–æ—á–≤–∞ —Å ns1., ns2. –∏–ª–∏ ns3.
  - –î–∞–ª–∏ –∏–º–∞ –ø–æ–Ω–µ –æ—â–µ –¥–≤–µ –Ω–∏–≤–∞ (—Ç.–µ. —Ç—Ä–µ—Ç–æ –Ω–∏–≤–æ).
- –ü—Ä–∏ –≥—Ä–µ—à–∫–∞: 
  - –°—ä–æ–±—â–µ–Ω–∏–µ ‚Äûüö´ –ù–µ—Å—ä–≤–º–µ—Å—Ç–∏–º –∏–ª–∏ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º –¥–æ–º–µ–π–Ω‚Äú. 
  - –ö—Ä–∞—Ç–∫–æ –ø–æ—è—Å–Ω–µ–Ω–∏–µ, —á–µ –µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ –∑–∞ DNS —Å—ä—Ä–≤—ä—Ä–∏ –Ω–∞ NetGalaxy. 
- –ü—Ä–∏ —É—Å–ø–µ—Ö: ‚úÖ –ü–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ –∏ –ø—Ä–æ–¥—ä–ª–∂–µ–Ω–∏–µ –Ω–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ. 

#### –°–ï–ö–¶–ò–Ø 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ä–≤ —Ñ–∞–π–ª–∞ —Ñ–∞–π–ª–∞ /etc/netgalaxy/setup.env –¥–∞–ª–∏ —Å—ä—Ä–≤—ä—Ä—ä—Ç –∏–º–∞ —É—Å–ø–µ—à–Ω–∞ –Ω–∞—á–∞–ª–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –¥–∞–ª–∏ —Ç–æ–∑–∏ —Å–∫—Ä–∏–ø—Ç –≤–µ—á–µ –µ –±–∏–ª –∏–∑–ø—ä–ª–Ω–µ–Ω –Ω–∞ —Ç–æ–∑–∏ —Å—ä—Ä–≤—ä—Ä.
–ö–∞–∫–≤–æ –≤–∫–ª—é—á–≤–∞ —Ç–∞–∑–∏ —Å–µ–∫—Ü–∏—è: 
- –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –∑–∞ –Ω–∞–ª–∏—á–∏–µ –Ω–∞ setup.env –∏ —Å—Ç–æ–π–Ω–æ—Å—Ç SETUP_VPS_BASE_STATUS=‚úÖ.
- –ê–∫–æ –ª–∏–ø—Å–≤–∞ ‚Üí –ø–æ–∫–∞–∑–≤–∞ —Å—ä–æ–±—â–µ–Ω–∏–µ –∏ —Å–ø–∏—Ä–∞ —Å–∫—Ä–∏–ø—Ç–∞, –∫–∞—Ç–æ –∏–∑–∏—Å–∫–≤–∞ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–æ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞ vps-base-qsetup.sh.
- –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –∑–∞ –æ—Ç–º–µ—Ç–∫–∞ SETUP_VPS_DNS_STATUS=‚úÖ ‚Üí –∞–∫–æ —Å–∫—Ä–∏–ø—Ç—ä—Ç –≤–µ—á–µ –µ –∏–∑–ø—ä–ª–Ω–µ–Ω, –∏–∑—Ç—Ä–∏–≤–∞ —Å–µ–±–µ —Å–∏ –∏ –ø—Ä–µ–∫—Ä–∞—Ç—è–≤–∞.
- –ó–∞–ø–∏—Å–≤–∞ IP –∞–¥—Ä–µ—Å–∞ –∏ FQDN –≤—ä–≤ —Ñ–∞–π–ª–∞ todo.modules –∑–∞ –Ω—É–∂–¥–∏—Ç–µ –Ω–∞ —Å–ª–µ–¥–≤–∞—â–∏—Ç–µ –º–æ–¥—É–ª–∏.
- –°–ª–µ–¥ —É—Å–ø–µ—à–Ω–æ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ, –ø–æ–∫–∞–∑–≤–∞ ‚Üí —Å—ä–æ–±—â–µ–Ω–∏–µ "‚úÖ –°—ä—Ä–≤—ä—Ä—ä—Ç –∏–º–∞ –≤–∞–ª–∏–¥–Ω–∞ –Ω–∞—á–∞–ª–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è" –∏ –ø—Ä–µ–º–∏–Ω–∞–≤–∞ –∫—ä–º –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ –º–æ–¥—É–ª 2.

---

## –ú–æ–¥—É–ª 2 –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ –Ω–∞ BIND9
–ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏ —Ç–æ–∑–∏ –º–æ–¥—É–ª:
–ü—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ bind9 –µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω. 
–ê–∫–æ –µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω ‚Üí –∏–∑–ø–∏—Å–≤–∞ ‚Äû–≤–µ—á–µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω‚Äú –∏ –∑–∞–ø–∏—Å–≤–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∞ –≤ setup.env: 
RESULT_BIND9_INSTALL=‚úÖ (–≤–µ—á–µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω) 

–ê–∫–æ –Ω–µ –µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω: 
- –ò–∑–ø—ä–ª–Ω—è–≤–∞ apt-get update –∏ apt-get install -y bind9 bind9-utils bind9-dnsutils. 
- –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ —É—Å–ª—É–≥–∞—Ç–∞ bind9 –µ –∞–∫—Ç–∏–≤–Ω–∞: 
  - –ê–∫–æ –µ –∞–∫—Ç–∏–≤–Ω–∞ ‚Üí –∑–∞–ø–∏—Å–≤–∞ RESULT_BIND9_INSTALL=‚úÖ. 
  - –ê–∫–æ –Ω–µ –µ –∞–∫—Ç–∏–≤–Ω–∞ ‚Üí –ø—Ä–µ–∫—Ä–∞—Ç—è–≤–∞ —Å–∫—Ä–∏–ø—Ç–∞ —Å—ä—Å —Å—ä–æ–±—â–µ–Ω–∏–µ –∑–∞ –≥—Ä–µ—à–∫–∞. 

–ó–∞–ø–∏—Å—ä—Ç –≤ setup.env —Å–µ –æ–±–Ω–æ–≤—è–≤–∞ —Å sed (–∞–∫–æ –≤–µ—á–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞), –∏–Ω–∞—á–µ —Å–µ –¥–æ–±–∞–≤—è –Ω–æ–≤ —Ä–µ–¥. 
–ü—Ä–∏ –Ω–µ—É—Å–ø–µ—à–Ω–∞ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—è –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º —Å —É—Å–ª—É–≥–∞—Ç–∞ ‚Üí —Å–∫—Ä–∏–ø—Ç—ä—Ç —Å–µ —Å–ø–∏—Ä–∞ –∏ –∏–∑—Ç—Ä–∏–≤–∞ —Å–µ–±–µ —Å–∏. 

---

## –ú–æ–¥—É–ª 3 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ –Ω–∞ named.conf.options
‚úÖ –ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏ —Ç–æ–∑–∏ —Å–∫—Ä–∏–ø—Ç:
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ –≤–µ—á–µ –µ –±–∏–ª –∏–∑–ø—ä–ª–Ω–µ–Ω –Ω–∞ —Ç–æ–∑–∏ —Å—ä—Ä–≤—ä—Ä ‚Üí –∞–∫–æ –¥–∞, –ø—Ä–æ–ø—É—Å–∫–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ.
2. –ò–∑–≤–ª–∏—á–∞ ip –∞–¥—Ä–µ—Å–∞ –Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞ —á—Ä–µ–∑ SERVER_IP –æ—Ç todo.modules.
3. –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ —Å—ä—Ä–≤—ä—Ä—ä—Ç –µ —Å IPv6 –ø–æ–¥–¥—Ä—ä–∂–∫–∞:
   - –ê–∫–æ –¥–∞ ‚Üí –∑–∞–ø–∏—Å–≤–∞ —Ç–æ–≤–∞ —á—Ä–µ–∑ SERVER_IPV6="yes" –≤ todo.modules –∏ –¥–æ–±–∞–≤—è –∑–∞–ø–∏—Å listen-on-v6 { any; };.
   - –ê–∫–æ –Ω–µ ‚Üí –∑–∞–ø–∏—Å–≤–∞ SERVER_IPV6="no" –∏ listen-on-v6 { none; };.
4. –ê—Ä—Ö–∏–≤–∏—Ä–∞ —Å—Ç–∞—Ä–∏—è named.conf.options.
5. –°—ä–∑–¥–∞–≤–∞ –Ω–æ–≤ –±–ª–æ–∫ —Å—ä—Å —Å–ª–µ–¥–Ω–∏—Ç–µ –∑–∞–ø–∏—Å–∏:
   listen-on { SERVER_IP; };
   allow-query { any; };
   forwarders ‚Üí Cloudflare + Google.
   dnssec-validation auto;
   recursion no;.
6. –ü—Ä–æ–≤–µ—Ä—è–≤–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ —Å named-checkconf.
7. –†–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞ BIND9 –∏ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ —Ä–∞–±–æ—Ç–∏.
8. –ó–∞–ø–∏—Å–≤–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç –≤ setup.env:
   RESULT_BIND9_OPTIONS=‚úÖ
