#!/bin/bash

# ==========================================================================
#  vps-dns-qsetup - Автоматизирана конфигурация на DNS сървър (Bind9)
# --------------------------------------------------------------------------
#  Версия: 1.0
#  Дата: 2025-07-18
#  Автор: Ilko Yordanov / NetGalaxy
# ==========================================================================
#
#  Този скрипт извършва автоматизирана конфигурация на DNS сървър (Bind9)
#  върху VPS, подготвен с базовия скрипт vps-base-qsetup.sh.
#  Скриптът се изпълнява директно на сървъра и следва модулен принцип.
#
#  Модули:
#    1. Проверки (IP, hostname, setup.env, предишно изпълнение)
#    2. Подготовка на системата
#    3. Инсталиране и конфигуриране на Bind9
#    4. Създаване на основни зони и записи
#    5. Активиране и тестване на DNS услугата
# ==========================================================================

# === ПОМОЩНА ИНФОРМАЦИЯ ===================================================
show_help() {
  echo "Използване: vps-dns-qsetup.sh [опция]"
  echo ""
  echo "Автоматизирана и безопасна конфигурация на DNS сървър (Bind9) върху VPS."
  echo ""
  echo "Опции:"
  echo "  --version       Показва версията на скрипта"
  echo "  --help          Показва тази помощ"
}

# === ОБРАБОТКА НА ОПЦИИ ====================================================
if [[ $# -gt 0 ]]; then
  case "$1" in
    --version)
      echo "vps-dns-qsetup версия 1.0 (18 юли 2025 г.)"
      exit 0
      ;;
    --help)
      show_help
      exit 0
      ;;
    *)
      echo "❌ Неразпозната опция: $1"
      show_help
      exit 1
      ;;
  esac
fi
